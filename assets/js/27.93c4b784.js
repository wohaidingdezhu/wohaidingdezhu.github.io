(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{626:function(s,a,n){"use strict";n.r(a);var t=n(4),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200606203315597.png")}})]),s._v(" "),n("h2",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),n("p",[s._v("官方文档：https://docs.docker.com/docker-for-windows/")]),s._v(" "),n("p",[s._v("【官方文档超级详细】")]),s._v(" "),n("p",[s._v("仓库地址：https://hub.docker.com/")]),s._v(" "),n("p",[s._v("【发布到仓库，git pull push】")]),s._v(" "),n("h2",{attrs:{id:"前期基础"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前期基础"}},[s._v("#")]),s._v(" 前期基础")]),s._v(" "),n("p",[s._v("linux 基本命令，类似 cd，mkdir 等")]),s._v(" "),n("h2",{attrs:{id:"docker-概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-概述"}},[s._v("#")]),s._v(" Docker 概述")]),s._v(" "),n("h3",{attrs:{id:"docker-为什么会出现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-为什么会出现"}},[s._v("#")]),s._v(" Docker 为什么会出现")]),s._v(" "),n("p",[s._v("一款产品，开发和上线两套环境，应用环境配置费时费力，而且容易出问题")]),s._v(" "),n("p",[s._v("尤其对于机器学习和深度学习的库更是如此，很可能存在版本问题、底层依赖冲突问题")]),s._v(" "),n("p",[s._v("所以发布项目时，不只是一套代码过去，而是代码+环境整体打包过去")]),s._v(" "),n("p",[s._v("所谓开发即运维，保证系统稳定性，提高部署效率")]),s._v(" "),n("p",[s._v("使用 Docker 后的流程：")]),s._v(" "),n("p",[s._v("开发：建立模型--环境--打包带上环境，即镜像--放到 Docker 仓库")]),s._v(" "),n("p",[s._v("部署：下载 Docker 中的镜像，直接运行即可")]),s._v(" "),n("p",[s._v("Docker 的思想来自于集装箱，集装箱，对环境进行隔离")]),s._v(" "),n("p",[s._v("Docker 通过隔离机制，可以将服务器利用到极致。")]),s._v(" "),n("h3",{attrs:{id:"docker-的历史"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-的历史"}},[s._v("#")]),s._v(" Docker 的历史")]),s._v(" "),n("p",[s._v("2010 年，几个搞 IT 的人，在美国成立一家公司"),n("code",[s._v("dotCloud")])]),s._v(" "),n("p",[s._v("做一些 pass 的云计算服务")]),s._v(" "),n("p",[s._v("他们将自己的容器化技术命名为 Docker")]),s._v(" "),n("p",[s._v("Docker 基于 Go 语言开发")]),s._v(" "),n("p",[s._v("Docker 刚刚诞生的时候，没有引起行业的注意，dotCloud 活不下去")]),s._v(" "),n("p",[s._v("然后他们决定开源")]),s._v(" "),n("p",[s._v("2013 年，创始人将 Docker 开源，不开则以，一开惊人，刚开源的时候，每个月都会更新一个版本")]),s._v(" "),n("p",[s._v("2014 年 4 月 9 日，Docker 1.0 发布")]),s._v(" "),n("h3",{attrs:{id:"容器-vs-虚拟机"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器-vs-虚拟机"}},[s._v("#")]),s._v(" 容器 vs 虚拟机")]),s._v(" "),n("p",[s._v("在容器技术出来之前，用的是虚拟机技术")]),s._v(" "),n("h4",{attrs:{id:"虚拟机原理示意图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机原理示意图"}},[s._v("#")]),s._v(" 虚拟机原理示意图")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200606205436434.png")}})]),s._v(" "),n("p",[s._v("缺点：")]),s._v(" "),n("ol",[n("li",[s._v("资源占用多")]),s._v(" "),n("li",[s._v("冗余步骤多")]),s._v(" "),n("li",[s._v("启动很慢")])]),s._v(" "),n("h4",{attrs:{id:"容器化技术示意图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器化技术示意图"}},[s._v("#")]),s._v(" 容器化技术示意图")]),s._v(" "),n("p",[s._v("不是模拟的完整的操作系统")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200606205739655.png")}})]),s._v(" "),n("h4",{attrs:{id:"二者对比"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二者对比"}},[s._v("#")]),s._v(" 二者对比")]),s._v(" "),n("p",[s._v("比较虚拟机和 Docker 的不同")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th"),s._v(" "),n("th",[s._v("传统虚拟机")]),s._v(" "),n("th",[s._v("Docker")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("虚拟内容")]),s._v(" "),n("td",[s._v("硬件+完整的操作系统+软件")]),s._v(" "),n("td",[s._v("APP+LIB")])]),s._v(" "),n("tr",[n("td",[s._v("大小")]),s._v(" "),n("td",[s._v("笨重，通常几个 G")]),s._v(" "),n("td",[s._v("轻便几个 M 或 KB")])]),s._v(" "),n("tr",[n("td",[s._v("启动速度")]),s._v(" "),n("td",[s._v("慢，分钟级")]),s._v(" "),n("td",[s._v("快，秒级")])]),s._v(" "),n("tr",[n("td"),s._v(" "),n("td"),s._v(" "),n("td")])])]),s._v(" "),n("h2",{attrs:{id:"docker-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装"}},[s._v("#")]),s._v(" Docker 安装")]),s._v(" "),n("h3",{attrs:{id:"docker-的基本组成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-的基本组成"}},[s._v("#")]),s._v(" Docker 的基本组成")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200606212250845.png")}})]),s._v(" "),n("p",[s._v("明确几个概念：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("镜像(image)：docker 镜像好比一个模板，可以通过这个模板来创建容器(container)，一个镜像可以创建多个容器，类似 Python 中的 Class")])]),s._v(" "),n("li",[n("p",[s._v("容器(container)：类似 Python 中通过 Class 创建的实例，Object；容器可以理解为一个简易的系统")])]),s._v(" "),n("li",[n("p",[s._v("仓库(repository)：存放镜像的地方，")]),s._v(" "),n("p",[s._v("分为共有仓库和私有仓库")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Docker Hub：国外的")])]),s._v(" "),n("li",[n("p",[s._v("阿里云：配置镜像加速")])])])])]),s._v(" "),n("h3",{attrs:{id:"环境准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[s._v("#")]),s._v(" 环境准备")]),s._v(" "),n("p",[s._v("我们要有一台服务器，并且可以操作它")]),s._v(" "),n("ol",[n("li",[s._v("Linux 命令基础，购买 linux 阿里云的服务器")]),s._v(" "),n("li",[s._v("CentOS 7")]),s._v(" "),n("li",[s._v("使用 Xshell 链接远程服务器")])]),s._v(" "),n("h3",{attrs:{id:"安装-xshell"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-xshell"}},[s._v("#")]),s._v(" 安装 xshell")]),s._v(" "),n("p",[s._v("下载 CentOS7 https://www.jianshu.com/p/a63f47e096e8")]),s._v(" "),n("p",[s._v("下载 VMware 360 软件管家下载")]),s._v(" "),n("p",[s._v("VMware 配置虚拟机 https://blog.csdn.net/babyxue/article/details/80970526")]),s._v(" "),n("p",[s._v("xshell 链接服务器 https://blog.csdn.net/zzy1078689276/article/details/77280814")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("[root@192 ~]# cd /\n[root@192 /]# pwd\n/\n[root@192 /]# ls\nbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var\n[root@192 /]# uname -r\n3.10.0-1127.el7.x86_64\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200608091950655.png")}})]),s._v(" "),n("p",[s._v("用户名")]),s._v(" "),n("p",[s._v("密码")]),s._v(" "),n("p",[s._v("查看 ip：vmware 里面输入，ip addIPr")]),s._v(" "),n("h3",{attrs:{id:"centos-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#centos-安装"}},[s._v("#")]),s._v(" Centos 安装")]),s._v(" "),n("p",[s._v("https://docs.docker.com/engine/install/centos/")]),s._v(" "),n("h3",{attrs:{id:"卸载旧的版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧的版本"}},[s._v("#")]),s._v(" 卸载旧的版本")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 卸载旧的版本\n$ sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-engine\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200608092628498.png")}})]),s._v(" "),n("h3",{attrs:{id:"安装基本环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装基本环境"}},[s._v("#")]),s._v(" 安装基本环境")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 安装基本的安装包\n$ sudo yum install -y yum-utils\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200608093114774.png")}})]),s._v(" "),n("h3",{attrs:{id:"设置镜像的仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置镜像的仓库"}},[s._v("#")]),s._v(" 设置镜像的仓库")]),s._v(" "),n("p",[s._v("注意！！下载默认用国外的，太慢不要用！")]),s._v(" "),n("p",[s._v("用国内镜像，百度搜索，docker 的阿里云镜像地址")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不要用官网默认这个！")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --add-repo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    https://download.docker.com/linux/centos/docker-ce.repo "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认是国外的")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 换成下面的")]),s._v("\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --add-repo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 阿里云镜像")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616145430166.png")}})]),s._v(" "),n("p",[s._v("直接复制粘贴就 OK 了")]),s._v(" "),n("p",[s._v("更像软件包索引")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("yum makecache fast\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616150014082.png")}})]),s._v(" "),n("p",[s._v("没有问题的话就是可以用的")]),s._v(" "),n("h3",{attrs:{id:"安装-docker-引擎"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-引擎"}},[s._v("#")]),s._v(" 安装 docker 引擎")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("yum install docker"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce docker"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ce"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli containerd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-ce 社区版 ee 企业版")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("注意这里会有几个个 y/n 的判断")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616150818860.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616150922549.png")}})]),s._v(" "),n("p",[s._v("要看到 Complet 再收手！")]),s._v(" "),n("h3",{attrs:{id:"启动-docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动-docker"}},[s._v("#")]),s._v(" 启动 Docker")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("systemctl start docker # 代表启动成功\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Client: Docker Engine - Community\n Version:           19.03.11\n API version:       1.40\n Go version:        go1.13.10\n Git commit:        42e35e61f3\n Built:             Mon Jun  1 09:13:48 2020\n OS/Arch:           linux/amd64\n Experimental:      false\n\nServer: Docker Engine - Community\n Engine:\n  Version:          19.03.11\n  API version:      1.40 (minimum version 1.12)\n  Go version:       go1.13.10\n  Git commit:       42e35e61f3\n  Built:            Mon Jun  1 09:12:26 2020\n  OS/Arch:          linux/amd64\n  Experimental:     false\n containerd:\n  Version:          1.2.13\n  GitCommit:        7ad184331fa3e55e52b890ea95e65ba581ae3429\n runc:\n  Version:          1.0.0-rc10\n  GitCommit:        dc9208a3303feef5b3839f4323d9beb36df0a9dd\n docker-init:\n  Version:          0.18.0\n  GitCommit:        fec3683\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker run hello-world\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616151641013.png")}}),s._v("\n中间一堆是签名信息")]),s._v(" "),n("p",[s._v("run 的运行流程图")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616161441669.png")}})]),s._v(" "),n("p",[s._v("查看下载的镜像")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616151913277.png")}})]),s._v(" "),n("h3",{attrs:{id:"卸载-docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#卸载-docker"}},[s._v("#")]),s._v(" 卸载 Docker")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 卸载依赖\nyum remove docker-ce docker-ce-cli containerd.io\n\n# 删除资源\nrm -rf /var/lib/docker # docker 的默认工作路径\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"阿里云镜像加速"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#阿里云镜像加速"}},[s._v("#")]),s._v(" 阿里云镜像加速")]),s._v(" "),n("p",[s._v("支付宝扫码登录，短信验证，确认授权")]),s._v(" "),n("p",[s._v("我有两个问题")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("阿里云镜像加速必须配置嘛？")]),s._v(" "),n("blockquote",[n("p",[s._v("哎呦我去: 加速快")]),s._v(" "),n("p",[s._v("哎呦我去: 要是翻墙就无所谓了")])])]),s._v(" "),n("li",[n("p",[s._v("这个阿里云必须要买嘛，买哪个，我看阿里云好多产品")]),s._v(" "),n("blockquote",[n("p",[s._v("哎呦我去:不需要买")]),s._v(" "),n("p",[s._v("哎呦我去:免费的")]),s._v(" "),n("p",[s._v("哎呦我去:阿里云搜索容器服务")]),s._v(" "),n("p",[s._v("哎呦我去:有一个镜像加速")])])]),s._v(" "),n("li",[n("p",[s._v("这个地址是哪来的呀")])])]),s._v(" "),n("p",[s._v("操作")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616154429105.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616154455964.png")}})]),s._v(" "),n("p",[s._v("控制台搜索 容器镜像服务")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616155201285.png")}})]),s._v(" "),n("p",[s._v("找到加速地址")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616155649476.png")}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('sudo mkdir -p /etc/docker # 创建一个陌路\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n  "registry-mirrors": ["https://uyfgafsw.mirror.aliyuncs.com"]\n}\nEOF # 编写配置文件\n\nsudo systemctl daemon-reload # 重启服务\nsudo systemctl restart docker # 重启docker\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616160315298.png")}})]),s._v(" "),n("h2",{attrs:{id:"底层原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#底层原理"}},[s._v("#")]),s._v(" 底层原理")]),s._v(" "),n("p",[s._v("Docker 是真么工作的？")]),s._v(" "),n("p",[s._v("Docker 是一个 Client-Server 结构的系统，Docker 的守护进程在主机上。通过 Socket 从客户端访问！")]),s._v(" "),n("p",[s._v("DockerServer 接受到 Docker-Client 的指令，")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616162107363.png")}})]),s._v(" "),n("p",[s._v("Docker 为什么比 VM 快？")]),s._v(" "),n("ol",[n("li",[s._v("Docker 有着比虚拟机更少的抽象层")]),s._v(" "),n("li",[s._v("docker 主要用的是宿主机的内核，vm 需要 Guest OS")])]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616162302653.png")}})]),s._v(" "),n("p",[s._v("所以说新建一个容器的时候，docker 不需要像虚拟机一样重新加载一个操作系统内核，避免引导")]),s._v(" "),n("h2",{attrs:{id:"docker-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-命令"}},[s._v("#")]),s._v(" Docker 命令")]),s._v(" "),n("h3",{attrs:{id:"帮助命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#帮助命令"}},[s._v("#")]),s._v(" 帮助命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("docker version # 显示 docker 的基本信息\ndocker info # 系统信息，镜像和容器的数量\ndocker 命令 --help # 全部信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n[官网文档](https://docs.docker.com/reference/)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616163338187.png")}})]),s._v(" "),n("h3",{attrs:{id:"镜像命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#镜像命令"}},[s._v("#")]),s._v(" 镜像命令")]),s._v(" "),n("h4",{attrs:{id:"docker-images"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-images"}},[s._v("#")]),s._v(" docker images")]),s._v(" "),n("p",[s._v("查看所有本地主机上的镜像")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616172056530.png")}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 解释\nREPOSITORY  # 镜像仓库源\nTAG                 # 镜像的标签\nIMAGE ID           # 镜像的ID\nCREATED           # 镜像的创建时间\nSIZE # 镜像的大小\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("--all , -a\t\tShow all images "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default hides intermediate images"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示所有")]),s._v("\n--digests\t\tShow digests\n--filter , -f\t\tFilter output based on conditions provided\n--format\t\tPretty-print images using a Go template\n--no-trunc\t\tDon’t truncate output\n--quiet , -q\t\tOnly show numeric IDs "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只显示id")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616172651835.png")}})]),s._v(" "),n("h4",{attrs:{id:"docker-search"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-search"}},[s._v("#")]),s._v(" docker search")]),s._v(" "),n("p",[s._v("搜索仓库中的镜像，相当于网页搜索")]),s._v(" "),n("p",[n("a",{attrs:{href:"http://hub.docker.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("网页搜索"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616173009473.png")}})]),s._v(" "),n("p",[s._v("mysql")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616173050756.png")}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker search mysql\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616173308194.png")}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker search --help\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616173740981.png")}})]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解释")]),s._v("\nOptions:\n  -f, --filter filter   Filter output based on conditions provided\n      --format string   Pretty-print search using a Go template\n      --limit int       Max number of search results "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --no-trunc        Don't truncate output\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search mysql --filter"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("STARS"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搜索出Stars大于3000的")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616174440284.png")}})]),s._v(" "),n("h4",{attrs:{id:"docker-pull"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-pull"}},[s._v("#")]),s._v(" docker pull")]),s._v(" "),n("p",[s._v("下载镜像")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载mysql镜像，default tag，默认最新版latest")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo systemctl daemon-reload")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo systemctl restart docker")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull mysql")]),s._v("\nUsing default tag: latest "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不写tag默认最新版")]),s._v("\nlatest: Pulling from library/mysql\n8559a31e96f4: Pull complete  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# layer 分层下载，docker image的核心 联合文件系统")]),s._v("\nd51ce1c2e575: Pull complete\nc2344adc4858: Pull complete\nfcf3ceff18fc: Pull complete\n16da0c38dc5b: Pull complete\nb905d1797e97: Pull complete\n4b50d1c6b05c: Pull complete\nc75914a65ca2: Pull complete\n1ae8042bdd09: Pull complete\n453ac13c00a3: Pull complete\n9e680cd72f08: Pull complete\na6b5dc864b6c: Pull complete\nDigest: sha256:8b7b328a7ff6de46ef96bcf83af048cb00a1c86282bfca0cb119c84568b4caf6"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#签名")]),s._v("\nStatus: Downloaded newer image "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" mysql:latest\ndocker.io/library/mysql:latest "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 真实地址")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 即")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 等价于")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull docker.io/library/mysql:latest\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定版本下载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql:5.7\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("版本来自于官网，版本库https://hub.docker.com/_/mysql")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617094339687.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/docker/image-20200617100948088.png")}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("此时查看镜像，可以看到新下载的两个")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617101105899.png")}})]),s._v(" "),n("h4",{attrs:{id:"docker-rmi"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-rmi"}},[s._v("#")]),s._v(" docker rmi")]),s._v(" "),n("p",[s._v("remove images")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除一个 可以通过名称 也可以指定id -f表示删除所有")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi -f 9cfcce23593a\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除多个 用空格分隔id")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi -f "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi -f "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images -aq"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# images -aq就是查所有镜像id，从而递归删除")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617102049613.png")}}),s._v(" "),n("img",{attrs:{src:s.$withBase("/docker/image-20200617102126526.png")}})]),s._v(" "),n("h3",{attrs:{id:"容器命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器命令"}},[s._v("#")]),s._v(" 容器命令")]),s._v(" "),n("p",[s._v("说明：有了镜像才能创建容器，linux，下载一个 centos 镜像来测试学习")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull centos\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617103406974.png")}})]),s._v(" "),n("h4",{attrs:{id:"新建容器并启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建容器并启动"}},[s._v("#")]),s._v(" 新建容器并启动")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("可选参数"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" image\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数说明")]),s._v("\n--name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("“Name” "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器名字，用于区分容器")]),s._v("\n-d 后台方式运行\n-it 使用交互方式运行，进入容器查看内容\n-p 指定容器的端口 如-p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("::8080\n\t-p ip:主机端口：容器端口\n\t-p 主机端口:容器端口\n\t-p 容器端口\n\n-p 随机指定端口\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h4",{attrs:{id:"进入退出容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进入退出容器"}},[s._v("#")]),s._v(" 进入退出容器")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it centos /bin/bash\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617104004004.png")}}),s._v("\n注意这里面主机名，编程了 centos 的 id")]),s._v(" "),n("p",[s._v("这里面就是一个容器，套娃啊")]),s._v(" "),n("h4",{attrs:{id:"查看运行的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看运行的容器"}},[s._v("#")]),s._v(" 查看运行的容器")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 查看正在运行的容器\ndocker ps\n# 查看曾经运行的容器\ndocker ps -a\n# 显示最近创建的容器，设置显示个数\ndocker ps -a - n=?\n# 只显示容器的编号\ndocker ps -aq\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES\n9939864fa2e6        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bin/bash"')]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes ago       Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes ago                       unruffled_knuth\n5f42e9930435        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" minutes ago       Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" minutes ago                       lucid_cannon\na89ddb393d3d        bf756fb1ae65        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/hello"')]),s._v("            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago        Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" hours ago                        gracious_bhabha\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a -n=2")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES\n9939864fa2e6        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bin/bash"')]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" minutes ago       Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" minutes ago                       unruffled_knuth\n5f42e9930435        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" minutes ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" minutes ago\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -aq")]),s._v("\n9939864fa2e6\n5f42e9930435\na89ddb393d3d\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h4",{attrs:{id:"退出容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[s._v("#")]),s._v(" 退出容器")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器停止退出")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器不停止退出 注意必须在英文输入法下，中文输入法不行")]),s._v("\nCtrl + P + Q\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it centos /bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@bfcea13c40cd /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [root@192 ~]# docker ps ##注意这里会自动给个命令，删掉")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS               NAMES\nbfcea13c40cd        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         About a minute ago   Up About a minute                       stoic_wilson\nedbd9366d959        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" minutes ago        Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" minutes                            affectionate_bartik\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it edbd9366d959 /bin/bash ## 再次进入")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@edbd9366d959 /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit ##停止并推出")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h4",{attrs:{id:"删除容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[s._v("#")]),s._v(" 删除容器")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除指定容器 不能删除正在运行的容器，如果强制删除 rm -f")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器id\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aq"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES\nbfcea13c40cd        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" minutes ago      Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" minutes                                   stoic_wilson\nedbd9366d959        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" minutes ago      Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" minutes                                   affectionate_bartik\n9939864fa2e6        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bin/bash"')]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" minutes ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v(" minutes ago                       unruffled_knuth\n5f42e9930435        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(" minutes ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v(" minutes ago                       lucid_cannon\na89ddb393d3d        bf756fb1ae65        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/hello"')]),s._v("            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" hours ago        Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" hours ago                         gracious_bhabha\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rm 5f42e9930435")]),s._v("\n5f42e9930435\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rm edbd9366d959      # 注意正在运行的容器不能删除")]),s._v("\nError response from daemon: You cannot remove a running container edbd9366d9596c744dd449119269b04de2f2a494e7fc471f6396bcefd94c33fe. Stop the container before attempting removal or force remove\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -aq # 所有容器id")]),s._v("\nbfcea13c40cd\nedbd9366d959\n9939864fa2e6\na89ddb393d3d\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rm -f $(docker ps -aq) # 全部删除")]),s._v("\nbfcea13c40cd\nedbd9366d959\n9939864fa2e6\na89ddb393d3d\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h4",{attrs:{id:"启动和停止容器的操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止容器的操作"}},[s._v("#")]),s._v(" 启动和停止容器的操作")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it centos /bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@7b1a7dd10ea4 /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps #查看正在运行的")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a # 查看历史运行过的")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES\n7b1a7dd10ea4        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),s._v(" seconds ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" seconds ago                       fervent_mirzakhani\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker start 7b1a7dd10ea4 # 启动当前这个容器 container id 粘过 来")]),s._v("\n7b1a7dd10ea4\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps # 查看当前运行容器 发现启动成功")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n7b1a7dd10ea4        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" minutes ago       Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" seconds                           fervent_mirzakhani\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker stop 7b1a7dd10ea4 # 停止运行")]),s._v("\n7b1a7dd10ea4\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps # 再次查看 没有这个容器了")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("h4",{attrs:{id:"后台启动-docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#后台启动-docker"}},[s._v("#")]),s._v(" 后台启动 docker")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d 镜像名\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用docker ps 查看的时候 发现停止了")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后台运行，docker发现前台没有，容器启动后，发现自己没有提供服务，会立刻停止")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("Last login: Wed Jun "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":47:35 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl start docker # 关机后重启了，需要启动docker")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -d centos # 运行")]),s._v("\n8ce188e5fee31c2fac93c0a405ee1a95c38dbc50cb47c35b19c0039c27558ded\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a # 查看正在运行的")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES\n8ce188e5fee3        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" seconds ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" seconds ago                       tender_dirac\n7b1a7dd10ea4        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" hours ago         Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" hours ago                          fervent_mirzakhani\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h4",{attrs:{id:"查看日志"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[s._v("#")]),s._v(" 查看日志")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs -f -t --tail n 【id】\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617161744298.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker logs --help")]),s._v("\n\nUsage:\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" CONTAINER\n\nFetch the logs of a container\n\nOptions:\n      --details        Show extra details provided to logs\n  -f, --follow         Follow log output\n      --since string   Show logs since timestamp "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g.\n                       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("-01-02T13:23:37"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" or relative\n                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g. 42m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" minutes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --tail string    Number of lines to show from the\n                       end of the logs "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"all"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -t, --timestamps     Show timestamps "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 时间戳")]),s._v("\n      --until string   Show logs before a timestamp "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g.\n                       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2013")]),s._v("-01-02T13:23:37"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" or relative\n                       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e.g. 42m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" minutes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("whiel "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" shenzai"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行一个")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it centos /bin/bash")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@c2887d35c71d /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [root@192 ~]# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\nc2887d35c71d        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v(" seconds ago      Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(" seconds                           vigorous_kare\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看日志，由于没有运行脚本，所以啥也没显示")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker logs -f -t --tail 10 c2887d35c71d")]),s._v("\n^C "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ctrl+c退出")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行centos里面加个脚本")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# docker run -d centos /bin/sh -c "while true;do echo shenzai;sleep 1;done"')]),s._v("\ncb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS               NAMES\ncb6d7fbc3f27        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" seconds ago       Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" seconds                            dreamy_almeida\nc2887d35c71d        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" minutes ago       Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" minutes                            vigorous_kare\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看日志 发现隔一秒打印一条")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker logs -f -t --tail 10 cb6d7fbc3f27")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:11.293765084Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:12.297675608Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:13.301845582Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:14.304800996Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:15.307130238Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:16.310574235Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:17.312946923Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:18.314841295Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:19.317021705Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:20.319670013Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:21.322651649Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:22.325466918Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:23.327984704Z shenzai\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("-06-17T12:02:24.329656919Z shenzai\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br")])]),n("h4",{attrs:{id:"查看正在运行的容器信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看正在运行的容器信息"}},[s._v("#")]),s._v(" 查看正在运行的容器信息")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker inspect cb6d7fbc3f27")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器的完整id")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Id"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388"')]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建时间")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Created"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-06-17T12:00:50.706906186Z"')]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 脚本位置")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Path"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh"')]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行的脚本")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Args"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-c"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"while true;do echo shenzai;sleep 1;done"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"State"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Status"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"running"')]),s._v(", "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 状态，正在运行")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Running"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Paused"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Restarting"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OOMKilled"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dead"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Pid"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1909")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 父进程id")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ExitCode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Error"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"StartedAt"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2020-06-17T12:00:51.093617477Z"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"FinishedAt"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0001-01-01T00:00:00Z"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 来源镜像")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Image"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sha256:831691599b88ad6cc2a4abbd0e89661a121aff14cfa289ad840fd3946f274f1f"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ResolvConfPath"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/containers/cb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388/resolv.conf"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HostnamePath"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/containers/cb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388/hostname"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HostsPath"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/containers/cb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388/hosts"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LogPath"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/containers/cb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388/cb6d7fbc3f27a064137d58282de97b97365dea2705211ebfbad642079cc1b388-json.log"')]),s._v(",\n\n\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dreamy_almeida"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RestartCount"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Driver"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay2"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Platform"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linux"')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MountLabel"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ProcessLabel"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AppArmorProfile"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ExecIDs"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机配置")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HostConfig"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Binds"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ContainerIDFile"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LogConfig"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Type"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"json-file"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Config"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NetworkMode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"default"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PortBindings"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"RestartPolicy"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MaximumRetryCount"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AutoRemove"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"VolumeDriver"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"VolumesFrom"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CapAdd"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CapDrop"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Capabilities"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Dns"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DnsOptions"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DnsSearch"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ExtraHosts"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GroupAdd"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IpcMode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"private"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Cgroup"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Links"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OomScoreAdj"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PidMode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Privileged"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PublishAllPorts"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ReadonlyRootfs"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SecurityOpt"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTSMode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UsernsMode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ShmSize"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("67108864")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Runtime"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"runc"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ConsoleSize"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Isolation"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuShares"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Memory"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NanoCpus"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CgroupParent"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BlkioWeight"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BlkioWeightDevice"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BlkioDeviceReadBps"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BlkioDeviceWriteBps"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BlkioDeviceReadIOps"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BlkioDeviceWriteIOps"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuPeriod"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuQuota"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuRealtimePeriod"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuRealtimeRuntime"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpusetCpus"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpusetMems"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Devices"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DeviceCgroupRules"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DeviceRequests"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"KernelMemory"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"KernelMemoryTCP"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MemoryReservation"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MemorySwap"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MemorySwappiness"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OomKillDisable"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PidsLimit"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Ulimits"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuCount"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CpuPercent"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IOMaximumIOps"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IOMaximumBandwidth"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MaskedPaths"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/asound"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/acpi"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/kcore"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/keys"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/latency_stats"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/timer_list"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/timer_stats"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/sched_debug"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/scsi"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/sys/firmware"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ReadonlyPaths"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/bus"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/fs"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/irq"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/sys"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/proc/sysrq-trigger"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其他配置")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GraphDriver"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Data"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LowerDir"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/overlay2/3675586ebbd79cd72d2562a90c9380627a331c563724c0dac091f92600af4907-init/diff:/var/lib/docker/overlay2/7f79322e0f58d651a84a555dadd83d92537788172525945d3f538dd95dce336c/diff"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MergedDir"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/overlay2/3675586ebbd79cd72d2562a90c9380627a331c563724c0dac091f92600af4907/merged"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UpperDir"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/overlay2/3675586ebbd79cd72d2562a90c9380627a331c563724c0dac091f92600af4907/diff"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WorkDir"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/lib/docker/overlay2/3675586ebbd79cd72d2562a90c9380627a331c563724c0dac091f92600af4907/work"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"overlay2"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mounts"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 挂载")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基本配置")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Config"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hostname"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cb6d7fbc3f27"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Domainname"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"User"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AttachStdin"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AttachStdout"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AttachStderr"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Tty"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OpenStdin"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"StdinOnce"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Env"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基本环境变量，这里没有Java")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基本命令")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Cmd"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-c"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"while true;do echo shenzai;sleep 1;done"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Image"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"centos"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Volumes"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"WorkingDir"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Entrypoint"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OnBuild"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Labels"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.label-schema.build-date"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"20200611"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.label-schema.license"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GPLv2"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.label-schema.name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CentOS Base Image"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.label-schema.schema-version"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.0"')]),s._v(",\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.label-schema.vendor"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CentOS"')]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 网卡，比如现在用的是桥接的网卡")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NetworkSettings"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Bridge"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SandboxID"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4d701985d7e77aa153790b697b2f38a61e20555c224b7675e4bf650b82799882"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HairpinMode"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LinkLocalIPv6Address"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"LinkLocalIPv6PrefixLen"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Ports"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SandboxKey"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/var/run/docker/netns/4d701985d7e7"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SecondaryIPAddresses"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SecondaryIPv6Addresses"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EndpointID"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8a6c71e2bafb19ca7dfd85445ccc4bef6d17467360a243d624089e676a24a018"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Gateway"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.17.0.1"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GlobalIPv6Address"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GlobalIPv6PrefixLen"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPAddress"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.17.0.3"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPPrefixLen"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPv6Gateway"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MacAddress"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"02:42:ac:11:00:03"')]),s._v(",\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Networks"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bridge"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPAMConfig"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Links"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Aliases"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null,\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"NetworkID"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"22b0fd2290ccbc4e066a75d3f01bd8bf32ee4352c5bbcfc9f911287219219571"')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"EndpointID"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8a6c71e2bafb19ca7dfd85445ccc4bef6d17467360a243d624089e676a24a018"')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Gateway"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.17.0.1"')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPAddress"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.17.0.3"')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPPrefixLen"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPv6Gateway"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GlobalIPv6Address"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GlobalIPv6PrefixLen"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MacAddress"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"02:42:ac:11:00:03"')]),s._v(",\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"DriverOpts"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" null\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br"),n("span",{staticClass:"line-number"},[s._v("135")]),n("br"),n("span",{staticClass:"line-number"},[s._v("136")]),n("br"),n("span",{staticClass:"line-number"},[s._v("137")]),n("br"),n("span",{staticClass:"line-number"},[s._v("138")]),n("br"),n("span",{staticClass:"line-number"},[s._v("139")]),n("br"),n("span",{staticClass:"line-number"},[s._v("140")]),n("br"),n("span",{staticClass:"line-number"},[s._v("141")]),n("br"),n("span",{staticClass:"line-number"},[s._v("142")]),n("br"),n("span",{staticClass:"line-number"},[s._v("143")]),n("br"),n("span",{staticClass:"line-number"},[s._v("144")]),n("br"),n("span",{staticClass:"line-number"},[s._v("145")]),n("br"),n("span",{staticClass:"line-number"},[s._v("146")]),n("br"),n("span",{staticClass:"line-number"},[s._v("147")]),n("br"),n("span",{staticClass:"line-number"},[s._v("148")]),n("br"),n("span",{staticClass:"line-number"},[s._v("149")]),n("br"),n("span",{staticClass:"line-number"},[s._v("150")]),n("br"),n("span",{staticClass:"line-number"},[s._v("151")]),n("br"),n("span",{staticClass:"line-number"},[s._v("152")]),n("br"),n("span",{staticClass:"line-number"},[s._v("153")]),n("br"),n("span",{staticClass:"line-number"},[s._v("154")]),n("br"),n("span",{staticClass:"line-number"},[s._v("155")]),n("br"),n("span",{staticClass:"line-number"},[s._v("156")]),n("br"),n("span",{staticClass:"line-number"},[s._v("157")]),n("br"),n("span",{staticClass:"line-number"},[s._v("158")]),n("br"),n("span",{staticClass:"line-number"},[s._v("159")]),n("br"),n("span",{staticClass:"line-number"},[s._v("160")]),n("br"),n("span",{staticClass:"line-number"},[s._v("161")]),n("br"),n("span",{staticClass:"line-number"},[s._v("162")]),n("br"),n("span",{staticClass:"line-number"},[s._v("163")]),n("br"),n("span",{staticClass:"line-number"},[s._v("164")]),n("br"),n("span",{staticClass:"line-number"},[s._v("165")]),n("br"),n("span",{staticClass:"line-number"},[s._v("166")]),n("br"),n("span",{staticClass:"line-number"},[s._v("167")]),n("br"),n("span",{staticClass:"line-number"},[s._v("168")]),n("br"),n("span",{staticClass:"line-number"},[s._v("169")]),n("br"),n("span",{staticClass:"line-number"},[s._v("170")]),n("br"),n("span",{staticClass:"line-number"},[s._v("171")]),n("br"),n("span",{staticClass:"line-number"},[s._v("172")]),n("br"),n("span",{staticClass:"line-number"},[s._v("173")]),n("br"),n("span",{staticClass:"line-number"},[s._v("174")]),n("br"),n("span",{staticClass:"line-number"},[s._v("175")]),n("br"),n("span",{staticClass:"line-number"},[s._v("176")]),n("br"),n("span",{staticClass:"line-number"},[s._v("177")]),n("br"),n("span",{staticClass:"line-number"},[s._v("178")]),n("br"),n("span",{staticClass:"line-number"},[s._v("179")]),n("br"),n("span",{staticClass:"line-number"},[s._v("180")]),n("br"),n("span",{staticClass:"line-number"},[s._v("181")]),n("br"),n("span",{staticClass:"line-number"},[s._v("182")]),n("br"),n("span",{staticClass:"line-number"},[s._v("183")]),n("br"),n("span",{staticClass:"line-number"},[s._v("184")]),n("br"),n("span",{staticClass:"line-number"},[s._v("185")]),n("br"),n("span",{staticClass:"line-number"},[s._v("186")]),n("br"),n("span",{staticClass:"line-number"},[s._v("187")]),n("br"),n("span",{staticClass:"line-number"},[s._v("188")]),n("br"),n("span",{staticClass:"line-number"},[s._v("189")]),n("br"),n("span",{staticClass:"line-number"},[s._v("190")]),n("br"),n("span",{staticClass:"line-number"},[s._v("191")]),n("br"),n("span",{staticClass:"line-number"},[s._v("192")]),n("br"),n("span",{staticClass:"line-number"},[s._v("193")]),n("br"),n("span",{staticClass:"line-number"},[s._v("194")]),n("br"),n("span",{staticClass:"line-number"},[s._v("195")]),n("br"),n("span",{staticClass:"line-number"},[s._v("196")]),n("br"),n("span",{staticClass:"line-number"},[s._v("197")]),n("br"),n("span",{staticClass:"line-number"},[s._v("198")]),n("br"),n("span",{staticClass:"line-number"},[s._v("199")]),n("br"),n("span",{staticClass:"line-number"},[s._v("200")]),n("br"),n("span",{staticClass:"line-number"},[s._v("201")]),n("br"),n("span",{staticClass:"line-number"},[s._v("202")]),n("br"),n("span",{staticClass:"line-number"},[s._v("203")]),n("br"),n("span",{staticClass:"line-number"},[s._v("204")]),n("br"),n("span",{staticClass:"line-number"},[s._v("205")]),n("br"),n("span",{staticClass:"line-number"},[s._v("206")]),n("br"),n("span",{staticClass:"line-number"},[s._v("207")]),n("br"),n("span",{staticClass:"line-number"},[s._v("208")]),n("br"),n("span",{staticClass:"line-number"},[s._v("209")]),n("br"),n("span",{staticClass:"line-number"},[s._v("210")]),n("br"),n("span",{staticClass:"line-number"},[s._v("211")]),n("br"),n("span",{staticClass:"line-number"},[s._v("212")]),n("br"),n("span",{staticClass:"line-number"},[s._v("213")]),n("br"),n("span",{staticClass:"line-number"},[s._v("214")]),n("br"),n("span",{staticClass:"line-number"},[s._v("215")]),n("br"),n("span",{staticClass:"line-number"},[s._v("216")]),n("br"),n("span",{staticClass:"line-number"},[s._v("217")]),n("br"),n("span",{staticClass:"line-number"},[s._v("218")]),n("br"),n("span",{staticClass:"line-number"},[s._v("219")]),n("br"),n("span",{staticClass:"line-number"},[s._v("220")]),n("br"),n("span",{staticClass:"line-number"},[s._v("221")]),n("br"),n("span",{staticClass:"line-number"},[s._v("222")]),n("br"),n("span",{staticClass:"line-number"},[s._v("223")]),n("br"),n("span",{staticClass:"line-number"},[s._v("224")]),n("br"),n("span",{staticClass:"line-number"},[s._v("225")]),n("br"),n("span",{staticClass:"line-number"},[s._v("226")]),n("br"),n("span",{staticClass:"line-number"},[s._v("227")]),n("br"),n("span",{staticClass:"line-number"},[s._v("228")]),n("br"),n("span",{staticClass:"line-number"},[s._v("229")]),n("br"),n("span",{staticClass:"line-number"},[s._v("230")]),n("br"),n("span",{staticClass:"line-number"},[s._v("231")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止正在疯狂输出的那个容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker stop cb6d7fbc3f27")]),s._v("\ncb6d7fbc3f27\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h4",{attrs:{id:"进入当前正在运行的容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#进入当前正在运行的容器"}},[s._v("#")]),s._v(" 进入当前正在运行的容器")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我们通常容器都是使用后台方式运行的e")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器id bashSHELL\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\nc2887d35c71d        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" minutes ago      Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" minutes                           vigorous_kare\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec -it c2887d35c71d /bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@c2887d35c71d /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nbin  etc   lib\t  lost+found  mnt  proc  run   srv  tmp  var\ndev  home  lib64  media       opt  root  sbin  sys  usr\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@c2887d35c71d /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ps -ef")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("         PID   "),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C STIME TTY          TIME CMD\nroot          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":57 pts/0    00:00:00 /bin/bash\nroot         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 pts/1    00:00:00 /bin/bash\nroot         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(":32 pts/1    00:00:00 "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@c2887d35c71d /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# c2887d35c71d")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@c2887d35c71d /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方式二")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker attach c2887d35c71d")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@c2887d35c71d /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 区别")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker exec # 进入容器后开启一个新的终端，可以在里面操作(常用)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker attach 进入容器正在执行的终端，不会启动新的进程")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("h4",{attrs:{id:"从容器内拷贝文件到主机上"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#从容器内拷贝文件到主机上"}},[s._v("#")]),s._v(" 从容器内拷贝文件到主机上")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it centos")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ctrl P Q 不关闭退出，查看")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@0569081aa89c /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# [root@192 ~]# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n0569081aa89c        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" seconds ago      Up "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" seconds\nhopeful_chebyshev\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看主机home下无文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /home")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入正在运行的容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker attach 0569081aa89c")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器home目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@0569081aa89c /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cd /home")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在目录中创建java文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@0569081aa89c home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# touch test.java")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出并停止容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@0569081aa89c home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# exit")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看现在运行的容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器虽然被停止，但是数据都会保留")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps -a")]),s._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS                         PORTS               NAMES\n0569081aa89c        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" minutes ago       Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds ago                           hopeful_chebyshev\nf589e5684a01        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" minutes ago                          cranky_easley\ncb6d7fbc3f27        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/sh -c \'while t…"')]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),s._v(" minutes ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("137")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" minutes ago                        dreamy_almeida\nc2887d35c71d        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v(" minutes ago      Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" minutes ago                        vigorous_kare\n8ce188e5fee3        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              About an hour ago   Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" About an hour ago                       tender_dirac\n7b1a7dd10ea4        centos              "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/bin/bash"')]),s._v("              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" hours ago         Exited "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" hours ago                             fervent_mirzakhani\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器数据拷贝到主机")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker cp 0569081aa89c:/home/test.java /home")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\ntest.java\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝是一个手动过程，未来我们使用 -v 卷的技术，可以实现自动同步 /home /home")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br")])]),n("h4",{attrs:{id:"查看内容占用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看内容占用"}},[s._v("#")]),s._v(" 查看内容占用")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stats\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"小结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[s._v("#")]),s._v(" 小结")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617210554147.png")}})]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@192 home"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker --help")]),s._v("\n\nUsage:\t"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" COMMAND\n\nA self-sufficient runtime "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" containers\n\nOptions:\n      --config string      Location of client config\n                           files "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/.docker"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -c, --context string     Name of the context to use to\n                           connect to the daemon\n                           "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("overrides DOCKER_HOST "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" var\n                           and default context "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" with\n                           "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"docker context use"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  -D, --debug              Enable debug mode\n  -H, --host list          Daemon socket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to connect to\n  -l, --log-level string   Set the logging level\n                           "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"debug"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"info"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"warn"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"error"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fatal"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"info"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --tls                Use TLS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" implied by --tlsverify\n      --tlscacert string   Trust certs signed only by\n                           this CA "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default\n                           "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/.docker/ca.pem"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --tlscert string     Path to TLS certificate "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n                           "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/.docker/cert.pem"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --tlskey string      Path to TLS key "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default\n                           "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/root/.docker/key.pem"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      --tlsverify          Use TLS and verify the remote\n  -v, --version            Print version information and quit\n\nManagement Commands:\n  builder     Manage builds\n  config      Manage Docker configs\n  container   Manage containers\n  context     Manage contexts\n  engine      Manage the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" engine\n  image       Manage images\n  network     Manage networks\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v("        Manage Swarm nodes\n  plugin      Manage plugins\n  secret      Manage Docker secrets\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("     Manage services\n  stack       Manage Docker stacks\n  swarm       Manage Swarm\n  system      Manage Docker\n  trust       Manage trust on Docker images\n  volume      Manage volumes\n\nCommands:\n  attach      Attach "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" standard input, output, and error streams to a running container\n  build       Build an image from a Dockerfile\n  commit      Create a new image from a container"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s changes\n  cp          Copy files/folders between a container and the local filesystem\n  create      Create a new container\n  diff        Inspect changes to files or directories on a container'")]),s._v("s filesystem\n  events      Get real "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" events from the server\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v("        Run a "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a running container\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v("      Export a container's filesystem as a "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" archive\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("     Show the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" of an image\n  images      List images\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v("      Import the contents from a tarball to create a filesystem image\n  info        Display system-wide information\n  inspect     Return low-level information on Docker objects\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v("        Kill one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" running containers\n  load        Load an image from a "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" archive or STDIN\n  login       Log "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" to a Docker registry\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("logout")]),s._v("      Log out from a Docker registry\n  logs        Fetch the logs of a container\n  pause       Pause all processes within one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers\n  port        List port mappings or a specific mapping "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the container\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("          List containers\n  pull        Pull an image or a repository from a registry\n  push        Push an image or a repository to a registry\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rename")]),s._v("      Rename a container\n  restart     Restart one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("          Remove one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers\n  rmi         Remove one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" images\n  run         Run a "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a new container\n  save        Save one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" images to a "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" archive "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("streamed to STDOUT by default"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  search      Search the Docker Hub "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" images\n  start       Start one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" stopped containers\n  stats       Display a live stream of container"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" resource usage statistics\n  stop        Stop one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" running containers\n  tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("         Display the running processes of a container\n  unpause     Unpause all processes within one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers\n  update      Update configuration of one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers\n  version     Show the Docker version information\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),s._v("        Block "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" one or "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" containers stop, "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" print their "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" codes\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617210932306.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617211021003.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200617211039508.png")}})]),s._v(" "),n("h4",{attrs:{id:"作业练习"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#作业练习"}},[s._v("#")]),s._v(" 作业练习")]),s._v(" "),n("h5",{attrs:{id:"部署-nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署-nginx"}},[s._v("#")]),s._v(" 部署 Nginx")]),s._v(" "),n("img",{attrs:{src:s.$withBase("/docker/image-20200618100621199.png")}}),s._v("\n# 官网搜索 nginx，可以看到帮助文档\n"),n("h1",{attrs:{id:"下载镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像"}},[s._v("#")]),s._v(" 下载镜像")]),s._v(" "),n("p",[s._v("[root@192 home]# docker pull nginx\nUsing default tag: latest\nlatest: Pulling from library/nginx\n8559a31e96f4: Pull complete\n8d69e59170f7: Pull complete\n3f9f1ec1d262: Pull complete\nd1f5ff4f210d: Pull complete\n1e22bfa8652e: Pull complete\nDigest: sha256:21f32f6c08406306d822a0e6e8b7dc81f53f336570e852e25fbe1e3e3d0d0133\nStatus: Downloaded newer image for nginx:latest\ndocker.io/library/nginx:latest")]),s._v(" "),n("h1",{attrs:{id:"查看镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像"}},[s._v("#")]),s._v(" 查看镜像")]),s._v(" "),n("p",[s._v("[root@192 home]# docker images\nREPOSITORY TAG IMAGE ID CREATED SIZE\ncentos latest 831691599b88 13 hours ago 215MB\nnginx latest 2622e6cca7eb 7 days ago 132MB")]),s._v(" "),n("h1",{attrs:{id:"d-后台运行-name-命名-p-暴露端口-3344-服务器、宿主机的端口-容器内部端口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#d-后台运行-name-命名-p-暴露端口-3344-服务器、宿主机的端口-容器内部端口"}},[s._v("#")]),s._v(" -d 后台运行，--name 命名，-p 暴露端口，3344 服务器、宿主机的端口，容器内部端口")]),s._v(" "),n("p",[s._v('[root@192 home]# docker run -d --name nginx01 -p:3344:80 nginx\n38dbf7bdcaef232d269b7184d91e44e06087181b5ee929494e177ad526810fa8\n[root@192 home]# docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n38dbf7bdcaef nginx "/docker-entrypoint.…" 7 seconds ago Up 6 seconds 0.0.0.0:3344->80/tcp nginx01')]),s._v(" "),n("h1",{attrs:{id:"使用-3344-可以访问成功"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-3344-可以访问成功"}},[s._v("#")]),s._v(" 使用 3344 可以访问成功")]),s._v(" "),n("p",[s._v("[root@192 home]# curl localhost:3344")]),s._v(" "),n("p",[s._v("端口暴露\n"),n("img",{attrs:{src:s.$withBase("/docker/image-20200617212310709.png")}}),s._v("\n可以公网访问\n找到服务器地址\n"),n("img",{attrs:{src:s.$withBase("/docker/image-20200617213213721.png")}}),s._v("\n浏览器输入 192.168.147.132:3344/\n"),n("img",{attrs:{src:s.$withBase("/docker/image-20200617213142079.png")}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('\n```shell\n[root@192 home]# docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES\n38dbf7bdcaef        nginx               "/docker-entrypoint.…"   21 minutes ago      Up 21 minutes       0.0.0.0:3344->80/tcp   nginx01\n\n# 进入容器\n[root@192 home]# docker exec -it nginx01 /bin/bash\n\n# 查一下nginx在哪\nroot@38dbf7bdcaef:/# whereis nginx\nnginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx\n\n# 到这个目录\nroot@38dbf7bdcaef:/# cd /etc/nginx\nroot@38dbf7bdcaef:/etc/nginx# ls\nconf.d\t\tkoi-utf  mime.types  nginx.conf   uwsgi_params\nfastcgi_params\tkoi-win  modules     scgi_params  win-utf\n\n# 退出\nroot@38dbf7bdcaef:/etc/nginx# exit\nexit\n\n# 停止\n[root@192 home]# docker stop 38dbf7bdcaef\n38dbf7bdcaef\n\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("再次刷新网页，服务关闭")]),s._v(" "),n("p",[s._v("思考问题：每次改动 nginx 配置文件，都需要进入容器内部，十分麻烦，要是可以在容器外部提供一个映射路径，达到在容器修改文件名，容器内部就可以自动修改？-v 数据卷技术！")]),s._v(" "),n("h5",{attrs:{id:"部署-tomcat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署-tomcat"}},[s._v("#")]),s._v(" 部署 tomcat")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618100551587.png")}})]),s._v(" "),n("p",[s._v("在 docker hub 上查看版本号和使用方法")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618100319796.png")}})]),s._v(" "),n("p",[s._v("官方文档一定要翻烂，超多版本，我的天呐~")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h6",{attrs:{id:"官方方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#官方方法"}},[s._v("#")]),s._v(" 官方方法")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it --rm tomcat:9.0\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run 可以不用pull，能自动下载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -it 直接进去运行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --rm 是什么意思？入门的意思？")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 我们之前的启动都是后台，停止了容器之后，容器还是可以查到")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 写了--rm，类似阅后即焚模式，用完即删除，这种通常用来测试")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后冒号查好的版本号")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618101811914.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618101849917.png")}})]),s._v(" "),n("p",[s._v("ctrl+c 退出")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618102022167.png")}})]),s._v(" "),n("p",[s._v("可以看到并没有 tomcat，印证阅后即焚模式，容器会删除，镜像不会删除")]),s._v(" "),n("p",[s._v("平时不建议这样搞")]),s._v(" "),n("h6",{attrs:{id:"正常方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#正常方法"}},[s._v("#")]),s._v(" 正常方法")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull tomcat:9.0 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 之前下过了，应该不用下了，这里老师讲错了")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618102544564.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动运行，应该加上版本号")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3355")]),s._v(":8080 --name tomcat01 tomcat\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618102837397.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it tomcat01 /bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618103109004.png")}})]),s._v(" "),n("p",[s._v("发现问题")]),s._v(" "),n("ol",[n("li",[s._v("linux 命令少了")]),s._v(" "),n("li",[s._v("没有 webapps")])]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618103407205.png")}})]),s._v(" "),n("p",[s._v("这是阿里云镜像的原因：默认使用最小镜像，所有不必要的都剔除了，保证最小可运行环境")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618103848104.png")}})]),s._v(" "),n("p",[s._v("再次找到结构")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618104052242.png")}})]),s._v(" "),n("p",[s._v("在浏览器中输入：http://192.168.147.132:3355/")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618103958168.png")}})]),s._v(" "),n("p",[s._v("思考问题：我们以后部署项目，如果每次都要进入容器是不是身份麻烦？我要是可以在容器外部提供一个映射路径，webapps，我们在外部放置项目，就自动同步到内部就好了！")]),s._v(" "),n("p",[s._v("docker 容器 tomcat+网站")]),s._v(" "),n("p",[s._v("docker mysql")]),s._v(" "),n("h5",{attrs:{id:"部署-es-kibana"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署-es-kibana"}},[s._v("#")]),s._v(" 部署 es+kibana")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618104950722.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es 暴露的端口很多")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es 十分耗内存")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es 的数据一般需要放置到安全目录！挂载")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 elasticsearch")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name elasticsearch01 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300 -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery.type=single-node"')]),s._v(" elasticsearch:7.6.2\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看内存占用情况")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stats\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618111713885.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先感觉stop一下")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop ba18713ca536\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618105057785.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 -e 限制内存")]),s._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name elasticsearch02 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300 -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery.type=single-node"')]),s._v(" -e "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("“-Xms64m -Xmx512m” elasticsearch:7.6.2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618113018622.png")}})]),s._v(" "),n("p",[s._v("没成功啊，SEI 能告诉我为啥！！")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name elasticsearch02 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v(":9200 -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9300")]),s._v(":9300 -e "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery.type=single-node"')]),s._v(" -e "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Xms64m -Xmx512m"')]),s._v(" elasticsearch:7.6.2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("py0003null 大佬:\n“ES_JAVA_OPTS=-Xms64m -Xmx512m”")]),s._v(" "),n("p",[s._v("py0003null 大佬:\n引号提前试试")])]),s._v(" "),n("p",[s._v("原因是引号！！你没觉得怪怪的嘛")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618115302656.png")}})]),s._v(" "),n("p",[s._v("此时查看 stats，发现内存占用在控制范围内")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618115149971.png")}})]),s._v(" "),n("p",[s._v("ctrl + C 退出，记得 stop")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618115921069.png")}})]),s._v(" "),n("h5",{attrs:{id:"思考-用-kibana-链接-elasticsearch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#思考-用-kibana-链接-elasticsearch"}},[s._v("#")]),s._v(" 思考：用 kibana 链接 elasticsearch")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618113556445.png")}})]),s._v(" "),n("h3",{attrs:{id:"可视化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#可视化"}},[s._v("#")]),s._v(" 可视化")]),s._v(" "),n("ul",[n("li",[s._v("portainer(先用这个)")]),s._v(" "),n("li",[s._v("Rancher(CI/CD 时用)")])]),s._v(" "),n("h4",{attrs:{id:"portainer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#portainer"}},[s._v("#")]),s._v(" portainer")]),s._v(" "),n("p",[s._v("Docker 图像化界面管理工具，提供一个后台面板供我们操作！")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8088")]),s._v(":9000 --restart"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always -v /var/run/docker.sock:/var/run/docker --privileged"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true portainer/portainer\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618114542622.png")}})]),s._v(" "),n("p",[s._v("访问外网 8088")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618114902169.png")}})]),s._v(" "),n("p",[s._v("用户名")]),s._v(" "),n("p",[s._v("密码")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618134706491.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618135424706.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618135450037.png")}})]),s._v(" "),n("p",[s._v("【平时不会用这个，好吧，先往下】")]),s._v(" "),n("h3",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),n("h2",{attrs:{id:"docker-镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像"}},[s._v("#")]),s._v(" Docker 镜像")]),s._v(" "),n("h3",{attrs:{id:"原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[s._v("#")]),s._v(" 原理")]),s._v(" "),n("p",[s._v("UnionFS 联合文件系统")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618140242423.png")}})]),s._v(" "),n("p",[s._v("bootfs：boot file system")]),s._v(" "),n("p",[s._v("rootfs：root file system")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618140907894.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618140932621.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618141014511.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618153329894.png")}})]),s._v(" "),n("p",[s._v("Docker 镜像都是只读的，当容器启动时，一个新的可写层被加到镜像的顶部，这一层就是我们通常说的容器层，容器层之下的都叫镜像层")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618153855605.png")}})]),s._v(" "),n("h3",{attrs:{id:"commit-提交镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#commit-提交镜像"}},[s._v("#")]),s._v(" commit 提交镜像")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" commit "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 提交容器成为一个新的副本")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" commit -m"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"提交的描述信息"')]),s._v(" -a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"作者"')]),s._v(" 容器id 目标镜像名："),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TAG"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 tomcat\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618154457286.png")}})]),s._v(" "),n("p",[s._v("这是一个前台程序")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618154736475.png")}})]),s._v(" "),n("p",[s._v("将 webapps.dist 里面所有的文件拷贝到 webapps 里面，其中-r 必须有，表示目录递归拷贝")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618154943194.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618155750591.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" commit -a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"paidaxing"')]),s._v(" -m"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add webapps app"')]),s._v(" 当前容器的id tomcat02:1.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618160425265.png")}})]),s._v(" "),n("p",[s._v("发现新的版本，比之前的大了一些，因为里面记录了我们的改动")]),s._v(" "),n("blockquote",[n("p",[s._v("如果想保存当前容器的状态，可以通过 commit 提交，获得一个镜像")]),s._v(" "),n("p",[s._v("好比我们以前学习 VM 的时候的快照")]),s._v(" "),n("p",[s._v("到这里算是入门了")]),s._v(" "),n("p",[s._v("接下来三个部分是 docker 的精髓")])]),s._v(" "),n("h2",{attrs:{id:"容器数据卷"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#容器数据卷"}},[s._v("#")]),s._v(" 容器数据卷")]),s._v(" "),n("h3",{attrs:{id:"什么是容器卷"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是容器卷"}},[s._v("#")]),s._v(" 什么是容器卷")]),s._v(" "),n("p",[s._v("docker 是要将应用和环境打包成一个镜像")]),s._v(" "),n("p",[s._v("这样，数据就不应该在容器中，否则容器删除，数据就会丢失，这就是删库跑路")]),s._v(" "),n("p",[s._v("故容器之间要有一个数据共享技术")]),s._v(" "),n("p",[s._v("在 Docker 容器中产生的数据，同步到本地，这就是卷技术")]),s._v(" "),n("p",[s._v("本质上是一个目录挂载，将容器内的目录挂载到虚拟机上")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618162917672.png")}})]),s._v(" "),n("p",[s._v("目的：容器的持久化和同步操作")]),s._v(" "),n("p",[s._v("容器间可以数据共享")]),s._v(" "),n("h3",{attrs:{id:"使用数据卷"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用数据卷"}},[s._v("#")]),s._v(" 使用数据卷")]),s._v(" "),n("p",[s._v("方式一：直接使用命令来挂载")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it -v -p\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -it 交互式进入")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -v volume卷技术")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -p 主机端口")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618163659503.png")}})]),s._v(" "),n("p",[s._v("新开一个窗口")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect 容器id\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618163938466.png")}})]),s._v(" "),n("p",[s._v("找到挂载信息 Mounts")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618164148642.png")}})]),s._v(" "),n("p",[s._v("测试")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618164818624.png")}})]),s._v(" "),n("p",[s._v("容器停止后，修改主机文件，再启动容器的时候，数据同样改变")]),s._v(" "),n("p",[s._v("双向同步")]),s._v(" "),n("h3",{attrs:{id:"实战安装-mysql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实战安装-mysql"}},[s._v("#")]),s._v(" 实战安装 mysql")]),s._v(" "),n("p",[s._v("MySQL 的数据持久化命令")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search mysql\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull mysql:5.7\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 挂载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3310")]),s._v(":3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_ROOT_PASSWORD")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v(" --name mysql01 mysql5.7\n\n-d 后台运行\n-p 端口映射\n-v 卷挂载\n-e 环境配置 安装启动mysql需要配置密码\n--name 容器名字\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618171353336.png")}})]),s._v(" "),n("p",[s._v("链接测试：打开 SQLyog")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618173234347.png")}})]),s._v(" "),n("p",[s._v("点 测试链接")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618173300551.png")}})]),s._v(" "),n("p",[s._v("点 链接")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618173729692.png")}})]),s._v(" "),n("h3",{attrs:{id:"具名和匿名挂载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#具名和匿名挂载"}},[s._v("#")]),s._v(" 具名和匿名挂载")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618203452205.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618203744983.png")}})]),s._v(" "),n("h3",{attrs:{id:"-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[s._v("#")])]),s._v(" "),n("p",[s._v("DockerFile 使用来构建 docker 镜像的文件")]),s._v(" "),n("blockquote",[n("p",[s._v("kas:\n没有安装吧？")]),s._v(" "),n("p",[s._v("kas:\n安装一下就可以了")]),s._v(" "),n("p",[s._v("py9001021 曾叙坚:\ncentos 默认使用 vi 写内容，vim 需要下载")]),s._v(" "),n("p",[s._v("py9001021 曾叙坚:\n是的，需要下载 vim 才能使用")]),s._v(" "),n("p",[s._v("YF:\n配置可以改下，字体就很炫酷了")]),s._v(" "),n("p",[s._v("都建民:\n用 vi 试试")]),s._v(" "),n("p",[s._v("都建民:\n你没有安装 vim")]),s._v(" "),n("p",[s._v("都建民:\nyum install vim")]),s._v(" "),n("p",[s._v("都建民:\n试试这个命令")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("yum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑文件的，没有装一下")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618211516566.png")}})]),s._v(" "),n("p",[s._v("安装完之后就可以运行这个命令了")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618211803012.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像是一层一层的，脚本是一行一行的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指令都是大写的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的每个命令可以理解为镜像的一层")]),s._v("\n\nFROM centos\n\nVOLUME "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"volume01"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"volume02"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再创建镜像的时候就挂载出来")]),s._v("\n\nCMD "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"---end---"')]),s._v("\nCMD /bin/bash\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618211023834.png")}})]),s._v(" "),n("p",[s._v("想保存并退出")]),s._v(" "),n("blockquote",[n("p",[s._v("Wesley.:\nshift 加 冒号")])]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618211318410.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" dockerfile1\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build -f dockerfile1 -t padaxing/centos:1.0 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后的点很重要 镜像名不能有/")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618212936481.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618213310752.png")}})]),s._v(" "),n("p",[s._v("启动生成的镜像")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618220658979.png")}})]),s._v(" "),n("p",[s._v("在容器内部创建一个文件")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618221801103.png")}})]),s._v(" "),n("p",[s._v("查看 Mounts，Source 对应容器外目录，匿名挂载卷")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618221837895.png")}})]),s._v(" "),n("p",[s._v("测试一下，在 container volume01 下生成文件")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200618222224352.png")}})]),s._v(" "),n("p",[s._v("在主机挂载路径下，也同样生成")]),s._v(" "),n("h3",{attrs:{id:"多个容器数据共享"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多个容器数据共享"}},[s._v("#")]),s._v(" 多个容器数据共享")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621165403842.png")}})]),s._v(" "),n("p",[s._v("看一下有啥 images")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621165733780.png")}})]),s._v(" "),n("p",[s._v("启动 docker01，用之前建的 padaxing/centos 1.0 镜像")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it --name docker01 padaxing/centos:1.0 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.0必须写")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621170429658.png")}})]),s._v(" "),n("p",[s._v("当前这个 ctrl+p+q 不停止退出")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621170540593.png")}})]),s._v(" "),n("p",[s._v("依次启动 docker02、docker03")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it --name docker02 --volumes-from docker01 padaxing/centos:1.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("docker02 继承 docker01 的 volumes")]),s._v(" "),n("p",[s._v("可以验证，在 docker01 下加一个数据，在 docker02 下也会出现")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621171513650.png")}})]),s._v(" "),n("p",[s._v("创建 docker03，同样继承 docker01")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it --name docker03 --volumes-from docker01 padaxing/centos:1.0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621172333639.png")}})]),s._v(" "),n("p",[s._v("在 docker03 的 volume01 下建立文件，在 docker01 的 volume01 下同样也有")]),s._v(" "),n("p",[s._v("即通过--volumes-from 可以实现不同容器间的数据共享")]),s._v(" "),n("p",[s._v("删除 docker01，数据还在")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621172830779.png")}})]),s._v(" "),n("p",[s._v("可以看到，删除 docker01，进入 docker02，数据依然在")]),s._v(" "),n("p",[s._v("结论：")]),s._v(" "),n("p",[s._v("容器之间配置信息的传递，数据卷容器的生命周期一直持续到没有容器使用位置")]),s._v(" "),n("p",[s._v("但是如果持久化到了本地，即使所有容器删除了，本地数据是不会删除的")]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"dockerfile"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[s._v("#")]),s._v(" DockerFile")]),s._v(" "),n("p",[s._v("是用来构建 docker 镜像的文件，可以理解为命令参数脚本")]),s._v(" "),n("p",[s._v("构建步骤：")]),s._v(" "),n("ol",[n("li",[s._v("编写一个 dockerfile 文件")]),s._v(" "),n("li",[s._v("docker build 构建成为一个镜像")]),s._v(" "),n("li",[s._v("docker run 运行镜像")]),s._v(" "),n("li",[s._v("docker push 发布镜像（DockerHub、阿里云镜像仓库 私有/共有）")])]),s._v(" "),n("p",[s._v("这个写一个项目时一样的")]),s._v(" "),n("h3",{attrs:{id:"官方-dockerfile-示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#官方-dockerfile-示例"}},[s._v("#")]),s._v(" 官方 DockerFile 示例")]),s._v(" "),n("p",[s._v("看一下官方的 DockerFile")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621174204807.png")}})]),s._v(" "),n("p",[s._v("可以看到官方镜像都是基础包，很多功能没有，我们通常会自己搭建自己的镜像")]),s._v(" "),n("p",[s._v("官方既然可以制作镜像，我们亦可以")]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"dockerfile-基础知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile-基础知识"}},[s._v("#")]),s._v(" DockerFile 基础知识")]),s._v(" "),n("ol",[n("li",[s._v("每个指令都必须是大写字母")]),s._v(" "),n("li",[s._v("按照从上到下顺序执行")]),s._v(" "),n("li",[s._v("*#*表示注释")]),s._v(" "),n("li",[s._v("每一个指令都会创建体检一个新的镜像层，并提交")])]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621174948310.png")}})]),s._v(" "),n("p",[s._v("docker 是面向开发的，我们以后要发布项目，做镜像，就要编写 dockerfile 文件，这个文件十分简单！")]),s._v(" "),n("p",[s._v("Docker 镜像逐渐成为企业的交付标准，必须掌握！")]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"dockerfile-命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile-命令"}},[s._v("#")]),s._v(" DockerFile 命令")]),s._v(" "),n("h3",{attrs:{id:"-3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#-3"}},[s._v("#")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("FROM "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基础镜像 比如centos")]),s._v("\nMAINTAINER "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像是谁写的 姓名+邮箱")]),s._v("\nRUN "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像构建时需要运行的命令")]),s._v("\nADD "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加，比如添加一个tomcat压缩包")]),s._v("\nWORKDIR "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 镜像的工作目录")]),s._v("\nVOLUME "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 挂载的目录")]),s._v("\nEXPOSE "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定暴露端口，跟-p一个道理")]),s._v("\nRUN "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最终要运行的")]),s._v("\nCMD "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定这个容器启动的时候要运行的命令，只有最后一个会生效，而且可被替代")]),s._v("\nENTRYPOINT "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定这个容器启动的时候要运行的命令，可以追加命令")]),s._v("\nONBUILD "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当构建一个被继承Dockerfile 这个时候运行ONBUILD指定，触发指令")]),s._v("\nCOPY "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件拷贝到镜像中")]),s._v("\nENV "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建的时候设置环境变量")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"实战构建自己的-centos"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实战构建自己的-centos"}},[s._v("#")]),s._v(" 实战构建自己的 centos")]),s._v(" "),n("p",[s._v("Docker Hub 中 99%的镜像都是从 FROM scratch 开始的")]),s._v(" "),n("p",[s._v("添加 centos7 的压缩包")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个自己的centos")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入home目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个目录，之后的东西都保存到这里")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" dockerfile\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入这个目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" dockerfile/\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个dockerfile，名字叫mydockerfile")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" mydockerfile-centos\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("xshell 新开一个界面")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方默认centos")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it centos\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方默认有pwd命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方默认没有vim命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 官方默认没有ifconfig命令")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621184333206.png")}})]),s._v(" "),n("p",[s._v("回到 mydockerfile")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621184847524.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面给官方centos加上自定义的内容")]),s._v("\nFROM centos\nMAINTAINER padaxing"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("010301200@hai.com"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\nENV MYPATH /usr/local\nWORKDIR "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MYPATH")]),s._v("\n\nRUN yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\nRUN yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" net-tools\n\nEXPOSE "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\nCMD "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MYPATH")]),s._v("\nCMD "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"---end---"')]),s._v("\nCMD /bin/bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621185539523.png")}})]),s._v(" "),n("p",[s._v("ESC, shif + : 输入 wq 保存并退出")]),s._v(" "),n("p",[s._v("如果写错了需要修改、")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" mydockerfile-centos\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入之后按i或者INSERT键即可修改")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("下面通过这个这个文件创建镜像")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build -f dockerfile-centos -t mycentos:0.1 "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621190219978.png")}})]),s._v(" "),n("p",[s._v("依次执行命令")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621190439448.png")}})]),s._v(" "),n("p",[s._v("最终返回 Successfully 表示成功")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621190524848.png")}})]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -it mycentos:0.1 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本号必须写，不然他会去找最新的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621190812481.png")}})]),s._v(" "),n("p",[s._v("这时可以看到这些功能都有了")]),s._v(" "),n("p",[s._v("可以通过查看 docker 构建历史")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200621192103460.png")}})]),s._v(" "),n("p",[s._v("可以看到当前这个镜像是怎么一步一步构建起来的")]),s._v(" "),n("p",[s._v("我们平时拿到一个镜像也可以通过这个方法研究一下他是怎么做的")]),s._v(" "),n("h3",{attrs:{id:"cmd-与-entrypoint"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cmd-与-entrypoint"}},[s._v("#")]),s._v(" CMD 与 ENTRYPOINT")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("\nFROM centos\nCMD "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ls"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-a"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动centos展示目录")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200622075427103.png")}})]),s._v(" "),n("p",[s._v("测试 ENTRYPOINT")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200622075653789.png")}})]),s._v(" "),n("p",[s._v("run 的时候可以直接加命令")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200622075802180.png")}})]),s._v(" "),n("p",[s._v("Docker 中许多命令都十分相似，我们需要了解他们的区别，最好的方式就是这样对比测试")]),s._v(" "),n("hr"),s._v(" "),n("h3",{attrs:{id:"实战-tomcat-镜像"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实战-tomcat-镜像"}},[s._v("#")]),s._v(" 实战 Tomcat 镜像")]),s._v(" "),n("ol",[n("li",[s._v("准备镜像文件 tomcat 压缩包")]),s._v(" "),n("li")]),s._v(" "),n("h2",{attrs:{id:"idea-整合-docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#idea-整合-docker"}},[s._v("#")]),s._v(" IDEA 整合 Docker")]),s._v(" "),n("h2",{attrs:{id:"docker-整合-docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-整合-docker"}},[s._v("#")]),s._v(" Docker 整合 Docker")]),s._v(" "),n("h2",{attrs:{id:"docker-compose"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" Docker Compose")]),s._v(" "),n("h2",{attrs:{id:"docker-swarm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm"}},[s._v("#")]),s._v(" Docker Swarm")]),s._v(" "),n("h2",{attrs:{id:"各种-bug"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#各种-bug"}},[s._v("#")]),s._v(" 各种 bug")]),s._v(" "),n("h3",{attrs:{id:"xshell-链接失败"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#xshell-链接失败"}},[s._v("#")]),s._v(" Xshell 链接失败")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616200418271.png")}})]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("Connecting to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".147.131:22"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nCould not connect to "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.147.131'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("port "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Connection failed.\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("注：电脑休眠重启后，机子会断开，要重新在 vmware 里面输入 ip addr 获得 ip")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616200344918.png")}})]),s._v(" "),n("p",[s._v("修改 xshell 中的主机接口即可")]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200616200505065.png")}})]),s._v(" "),n("p",[n("img",{attrs:{src:s.$withBase("/docker/image-20200624101454866.png")}})])])}),[],!1,null,null,null);a.default=e.exports}}]);